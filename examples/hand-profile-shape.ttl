@prefix : <http://www.w3.org/ns/ui#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix esco: <http://data.europa.eu/esco/model#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix forms: <profileFormText.ttl#> .
@prefix org: <http://www.w3.org/ns/org#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <http://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix shapes: <profile-shapes-from-form.ttl#> .
@prefix solid: <http://www.w3.org/ns/solid/terms#> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .
@prefix wd: <http://www.wikidata.org/entity/> .
@prefix xf: <http://www.w3.org/ns/pim/xform#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .


shapes:ProfileShape     a sh:NodeShape;
    dct:title "Profile shape from form";
    xf:nodeShapeForForm forms:CVGroup,
           forms:pronounsForm,
           forms:styleGroup,
           forms:this;
    sh:closed true;
    sh:property  [
        a sh:PropertyShape;
        xf:propertyShapeForField forms:highlightColor;
        sh:datatype xsd:color;
        sh:name "Highlight color";
        sh:path solid:profileHighlightColor;
        sh:pattern "^\\s*#[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]([0-9a-f][0-9a-f])?\\s*$" ],
            [
        a sh:PropertyShape;
        xf:propertyShapeForField forms:backgroundColor;
        sh:datatype xsd:color;
        sh:name "Background color";
        sh:path solid:profileBackgroundColor;
        sh:pattern "^\\s*#[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]([0-9a-f][0-9a-f])?\\s*$" ],
            [
        a sh:PropertyShape;
        xf:propertyShapeForField forms:relativePronounForm;
        sh:datatype xsd:string;
        sh:name "his/hers/theirs...";
        sh:path solid:preferredRelativePronoun ],
            [
        a sh:PropertyShape;
        xf:propertyShapeForField forms:objectPronounForm;
        sh:datatype xsd:string;
        sh:name "him/her/them...";
        sh:path solid:preferredObjectPronoun ],
            [
        a sh:PropertyShape;
        xf:propertyShapeForField forms:subjectPronounForm;
        sh:datatype xsd:string;
        sh:name "he/she/they...";
        sh:path solid:preferredSubjectPronoun ],
            [
        a sh:PropertyShape;
        xf:propertyShapeForField forms:involvementWithOrganizationsForm;
        sh:name "Involvement with Organization";
        sh:node  [
            a sh:NodeShape;
            xf:nodeShapeForForm forms:RoleMembershipForm;
            sh:property  [
                a sh:PropertyShape;
                xf:propertyShapeForField forms:RoleDescriptionForm;
                sh:datatype xsd:string;
                sh:name "Describe your role";
                sh:path schema:description ],
                    [
                a sh:PropertyShape;
                xf:propertyShapeForField forms:orgField;
                sh:name "Organization"@en,
                       "Organization"@fr;
                sh:path org:organization ],
                    [
                a sh:PropertyShape;
                xf:propertyShapeForField forms:escoOccupationField;
                sh:name "occupation";
                sh:path org:role ],
                    [
                a sh:PropertyShape;
                xf:propertyShapeForField forms:roleNameField;
                sh:datatype xsd:string;
                sh:path vcard:role ] ];
        sh:path <#_g0> ],
            [
        a sh:PropertyShape;
        xf:propertyShapeForField forms:SkillsForm;
        sh:name "Skills";
        sh:node  [
            a sh:NodeShape;
            xf:nodeShapeForForm forms:SkillForm;
            sh:property  [
                a sh:PropertyShape;
                xf:propertyShapeForField forms:escoSkillField;
                sh:name "skill";
                sh:path solid:publicId ] ];
        sh:path schema:skills ],
            [
        a sh:PropertyShape;
        xf:propertyShapeForField forms:LanguagesForm;
        sh:name "Languages";
        sh:path schema:knowsLanguage;
        sh:property  [
            a sh:PropertyShape;
            sh:node  [
                a sh:NodeShape;
                sh:property  [
                    sh:node  [
                        a sh:NodeShape;
                        xf:nodeShapeForForm forms:LanguageForm;
                        sh:property  [
                            a sh:PropertyShape;
                            xf:propertyShapeForField forms:WikidataLanguageField;
                            sh:name "Language";
                            sh:path solid:publicId ] ];
                    sh:path  (
                    [
                            sh:zeroOrMorePath rdf:rest ]
                   rdf:first ) ] ];
            sh:path schema:knowsLanguage;
            sh:targetClass rdf:Collection ] ],
            [
        a sh:PropertyShape;
        xf:propertyShapeForField forms:nicknameField;
        sh:datatype xsd:string;
        sh:name "Short name for chats, etc."@en,
               "nom court"@fr;
        sh:path foaf:nick ];
    sh:targetClass schema:Person,
           vcard:Individual,
           foaf:Person .


<#_g0>     sh:inversePath org:member .
